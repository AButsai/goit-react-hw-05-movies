{"version":3,"file":"static/js/MovieDetailsPage.7affd655.chunk.js","mappings":"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","sources":["helper/ststus.js","service/createConfigForRequest.js","service/api.js","webpack://react-homework-template/./src/components/CardMovie/CardMovie.module.css?c9dd","components/CardMovie/CardMovie.jsx","webpack://react-homework-template/./src/views/MovieDetailsPage.module.css?528a","views/MovieDetailsPage.js"],"sourcesContent":["export const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_THEMOVIEDB_KEY = '185a0ab5d7b155f2662fdcb8709753e2';\n\nexport const getMovies = axios.create({\n  url: '',\n  baseURL: BASE_URL,\n\n  params: {\n    api_key: API_THEMOVIEDB_KEY,\n    language: 'en-US',\n    include_adult: false,\n  },\n});\n","import { getMovies } from './createConfigForRequest';\n\nexport const getTrendingMovieAll = async () => {\n  try {\n    const { data } = await getMovies('/trending/all/day', {});\n\n    return data.results;\n  } catch (error) {\n    return Promise.reject('There is no information about the movie yet...');\n  }\n};\n\nexport const getMovie = async name => {\n  try {\n    const { data } = await getMovies('/search/movie', {\n      params: { query: name },\n    });\n\n    return data.results;\n  } catch (error) {\n    return Promise.reject('There is no information about the movie yet...');\n  }\n};\n\nexport const getMovieDetails = async id => {\n  try {\n    const { data } = await getMovies(`movie/${id}`, {});\n\n    return data;\n  } catch (error) {\n    return Promise.reject('There is no information about the movie yet...');\n  }\n};\n\nexport const getMoviesInfo = async (id, param) => {\n  try {\n    const { data } = await getMovies(`movie/${id}/${param}`, {});\n\n    return data;\n  } catch (error) {\n    return Promise.reject('There is no information about the movie yet...');\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"CardMovie_wrap__oX37a\",\"content\":\"CardMovie_content__BRZoW\",\"img\":\"CardMovie_img__MYCDH\",\"contentWrap\":\"CardMovie_contentWrap__g12zH\",\"title\":\"CardMovie_title__CHE6f\",\"subtext\":\"CardMovie_subtext__SQzT9\",\"text\":\"CardMovie_text__myY5A\",\"links\":\"CardMovie_links__aKKuC\",\"linksText\":\"CardMovie_linksText__ciwtF\",\"list\":\"CardMovie_list__4uOgA\",\"item\":\"CardMovie_item__VPfsl\",\"link\":\"CardMovie_link__IQrBo\"};","import PropTypes from 'prop-types';\n\nimport s from './CardMovie.module.css';\n\nconst PATH_IMAGE = 'https://image.tmdb.org/t/p/w1280';\n\nconst CardMovie = ({ movie, children }) => {\n  const { poster_path, original_title, genres, overview, vote_average } = movie;\n\n  function getGenres(genres) {\n    if (genres) {\n      return genres.map(genre => genre.name).join(', ');\n    }\n    return '';\n  }\n\n  function UserScore(count) {\n    return (count * 10).toFixed();\n  }\n\n  return (\n    <>\n      <div className={s.wrap}>\n        <div className={s.content}>\n          <img\n            src={PATH_IMAGE + poster_path}\n            alt={original_title}\n            className={s.img}\n          />\n          <div className={s.contentWrap}>\n            <p className={s.title}>{original_title}</p>\n            <p className={s.subtext}>User Score: {UserScore(vote_average)}%</p>\n            <p className={s.text}>Owerview</p>\n            <p className={s.subtext}>{overview}</p>\n            <p className={s.text}>Genres</p>\n            <p className={s.subtext}>{getGenres(genres)}</p>\n          </div>\n        </div>\n        <div className={s.links}>\n          <p className={s.linksText}>Additional information</p>\n          {children && (\n            <ul className={s.list}>\n              {children.map(child => (\n                <li key={child.props.children} className={s.item}>\n                  {child}\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nCardMovie.propTypes = {\n  movie: PropTypes.shape({\n    poster_path: PropTypes.string,\n    original_title: PropTypes.string.isRequired,\n    genres: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        name: PropTypes.string.isRequired,\n      })\n    ),\n    overview: PropTypes.string.isRequired,\n    vote_average: PropTypes.number.isRequired,\n  }),\n  children: PropTypes.arrayOf(\n    PropTypes.shape({\n      child: PropTypes.element,\n    })\n  ),\n};\n\nexport default CardMovie;\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"MovieDetailsPage_link__joE9b\",\"activeLink\":\"MovieDetailsPage_activeLink__iNkQs\",\"button\":\"MovieDetailsPage_button__ZnqFs\"};","import { useState, useEffect, lazy, Suspense } from 'react';\nimport {\n  NavLink,\n  useParams,\n  useRouteMatch,\n  Route,\n  useHistory,\n  useLocation,\n} from 'react-router-dom';\nimport { BsArrowLeftShort } from 'react-icons/bs';\nimport Loader from 'components/Loader';\nimport { getMovieDetails } from 'service/api';\nimport { Status } from 'helper/ststus';\nimport CardMovie from 'components/CardMovie';\n\nimport s from './MovieDetailsPage.module.css';\n\nconst Cast = lazy(() => import('./Cast' /* webpackChunkName: \"Cast\" */));\nconst Reviews = lazy(() =>\n  import('./Reviews' /* webpackChunkName: \"Reviews\" */)\n);\n\nconst MovieDetailsPage = () => {\n  const [movie, setMovie] = useState(null);\n  const [errors, setErrors] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  const lacation = useLocation();\n  const history = useHistory();\n  const { movieId } = useParams();\n  const { url, path } = useRouteMatch();\n\n  useEffect(() => {\n    setStatus(Status.PENDING);\n    getMovieDetails(movieId)\n      .then(data => {\n        setMovie(data);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        setErrors(error);\n        setStatus(Status.REJECTED);\n      });\n  }, [movieId]);\n\n  const onGoBack = () => {\n    history.push(lacation?.state?.from ?? '/');\n  };\n\n  return (\n    <>\n      {status === Status.PENDING && <Loader />}\n\n      {status === Status.RESOLVED && (\n        <>\n          <button className={s.button} type=\"button\" onClick={onGoBack}>\n            <BsArrowLeftShort /> Go back\n          </button>\n          <CardMovie movie={movie}>\n            <NavLink\n              to={`${url}/cast`}\n              className={s.link}\n              activeClassName={s.activeLink}\n            >\n              Cast\n            </NavLink>\n            <NavLink\n              to={`${url}/reviews`}\n              className={s.link}\n              activeClassName={s.activeLink}\n            >\n              Reviews\n            </NavLink>\n          </CardMovie>\n\n          <Suspense fallback={<Loader />}>\n            <Route path={`${path}/cast`}>\n              <Cast movieId={movieId} />\n            </Route>\n            <Route path={`${path}/reviews`}>\n              <Reviews movieId={movieId} />\n            </Route>\n          </Suspense>\n        </>\n      )}\n\n      {status === Status.REJECTED && (\n        <>\n          <button className={s.button} type=\"button\" onClick={onGoBack}>\n            <BsArrowLeftShort /> Go back\n          </button>\n          <p style={{ marginTop: '20px', fontSize: '20px', fontWeight: 500 }}>\n            {errors}\n          </p>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n"],"names":["Status","IDLE","PENDING","RESOLVED","REJECTED","getMovies","axios","url","baseURL","params","api_key","language","include_adult","getTrendingMovieAll","data","results","Promise","reject","getMovie","name","query","getMovieDetails","id","getMoviesInfo","param","count","movie","children","poster_path","original_title","genres","overview","vote_average","className","s","src","alt","toFixed","map","genre","join","getGenres","child","props","Cast","lazy","Reviews","useState","setMovie","errors","setErrors","status","setStatus","lacation","useLocation","history","useHistory","movieId","useParams","useRouteMatch","path","useEffect","then","catch","error","onGoBack","push","state","from","Loader","type","onClick","to","activeClassName","Suspense","fallback","style","marginTop","fontSize","fontWeight"],"sourceRoot":""}