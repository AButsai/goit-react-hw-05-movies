{"version":3,"file":"static/js/MovieDetailsPage.a6b46938.chunk.js","mappings":"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","sources":["helpers/helpers.js","service/createConfigForRequest.js","service/api.js","webpack://react-homework-template/./src/components/CardMovie/CardMovie.module.css?c9dd","components/CardMovie/CardMovie.jsx","webpack://react-homework-template/./src/views/MovieDetailsPage/MovieDetailsPage.module.css?8c08","views/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["export const PATH_IMAGE = 'https://image.tmdb.org/t/p/w1280';\nexport const DEFAULT_IMAGE =\n  'https://cdn.pixabay.com/photo/2016/04/01/10/11/avatar-1299805__340.png';\n\nexport const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_THEMOVIEDB_KEY = '185a0ab5d7b155f2662fdcb8709753e2';\n\nexport const getMovies = axios.create({\n  url: '',\n  baseURL: BASE_URL,\n\n  params: {\n    api_key: API_THEMOVIEDB_KEY,\n    language: 'en-US',\n    include_adult: false,\n  },\n});\n","import { getMovies } from './createConfigForRequest';\n\nexport const getTrendingMovieAll = async () => {\n  try {\n    const {\n      data: { results },\n    } = await getMovies('/trending/all/day', {});\n\n    return results;\n  } catch (error) {\n    return Promise.reject('There is no information about the movie yet...');\n  }\n};\n\nexport const getMovie = async name => {\n  try {\n    const {\n      data: { results },\n    } = await getMovies('/search/movie', {\n      params: { query: name },\n    });\n\n    return results;\n  } catch (error) {\n    return Promise.reject('There is no information about the movie yet...');\n  }\n};\n\nexport const getMovieDetails = async id => {\n  try {\n    const { data } = await getMovies(`movie/${id}`, {});\n\n    return data;\n  } catch (error) {\n    return Promise.reject('There is no information about the movie yet...');\n  }\n};\n\nexport const getMoviesInfo = async (id, param) => {\n  try {\n    const { data } = await getMovies(`movie/${id}/${param}`, {});\n\n    return data;\n  } catch (error) {\n    return Promise.reject('There is no information about the movie yet...');\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"CardMovie_wrap__oX37a\",\"content\":\"CardMovie_content__BRZoW\",\"img\":\"CardMovie_img__MYCDH\",\"contentWrap\":\"CardMovie_contentWrap__g12zH\",\"title\":\"CardMovie_title__CHE6f\",\"subtext\":\"CardMovie_subtext__SQzT9\",\"text\":\"CardMovie_text__myY5A\",\"links\":\"CardMovie_links__aKKuC\",\"linksText\":\"CardMovie_linksText__ciwtF\",\"list\":\"CardMovie_list__4uOgA\",\"item\":\"CardMovie_item__VPfsl\",\"link\":\"CardMovie_link__IQrBo\"};","import PropTypes from 'prop-types';\n\nimport s from './CardMovie.module.css';\n\nconst PATH_IMAGE = 'https://image.tmdb.org/t/p/w1280';\n\nconst CardMovie = ({ movie, children }) => {\n  const { poster_path, original_title, genres, overview, vote_average } = movie;\n\n  function getGenres(genres) {\n    if (genres) {\n      return genres.map(genre => genre.name).join(', ');\n    }\n    return '';\n  }\n\n  function userScore(count) {\n    return (count * 10).toFixed();\n  }\n\n  return (\n    <div className={s.wrap}>\n      <div className={s.content}>\n        <img\n          src={PATH_IMAGE + poster_path}\n          alt={original_title}\n          className={s.img}\n        />\n        <div className={s.contentWrap}>\n          <p className={s.title}>{original_title}</p>\n          <p className={s.subtext}>User Score: {userScore(vote_average)}%</p>\n          <p className={s.text}>Owerview</p>\n          <p className={s.subtext}>{overview}</p>\n          <p className={s.text}>Genres</p>\n          <p className={s.subtext}>{getGenres(genres)}</p>\n        </div>\n      </div>\n      <div className={s.links}>\n        <p className={s.linksText}>Additional information</p>\n        {children && (\n          <ul className={s.list}>\n            {children.map(child => (\n              <li key={child.props.children} className={s.item}>\n                {child}\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n};\n\nCardMovie.propTypes = {\n  movie: PropTypes.shape({\n    poster_path: PropTypes.string,\n    original_title: PropTypes.string.isRequired,\n    genres: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        name: PropTypes.string.isRequired,\n      })\n    ),\n    overview: PropTypes.string.isRequired,\n    vote_average: PropTypes.number.isRequired,\n  }),\n  children: PropTypes.arrayOf(\n    PropTypes.shape({\n      child: PropTypes.element,\n    })\n  ),\n};\n\nexport default CardMovie;\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"MovieDetailsPage_link__GbpAo\",\"activeLink\":\"MovieDetailsPage_activeLink__SFnbD\",\"button\":\"MovieDetailsPage_button__zHx70\"};","import { useState, useEffect, lazy, Suspense } from 'react';\nimport {\n  NavLink,\n  useParams,\n  useRouteMatch,\n  Route,\n  useHistory,\n  useLocation,\n} from 'react-router-dom';\nimport { BsArrowLeftShort } from 'react-icons/bs';\nimport Loader from 'components/Loader';\nimport { getMovieDetails } from 'service/api';\nimport { Status } from 'helpers/helpers';\nimport CardMovie from 'components/CardMovie';\n\nimport s from './MovieDetailsPage.module.css';\n\nconst Cast = lazy(() =>\n  import('../CastPage/Cast' /* webpackChunkName: \"Cast\" */)\n);\nconst Reviews = lazy(() =>\n  import('../ReviewsPage/Reviews' /* webpackChunkName: \"Reviews\" */)\n);\n\nconst MovieDetailsPage = () => {\n  const [movie, setMovie] = useState(null);\n  const [errors, setErrors] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  const location = useLocation();\n  const history = useHistory();\n  const { movieId } = useParams();\n  const { url, path } = useRouteMatch();\n\n  useEffect(() => {\n    setStatus(Status.PENDING);\n\n    async function getDetailsMovie() {\n      try {\n        const data = await getMovieDetails(movieId);\n        setMovie(data);\n        setStatus(Status.RESOLVED);\n      } catch (error) {\n        setErrors(error);\n        setStatus(Status.REJECTED);\n      }\n    }\n\n    getDetailsMovie();\n  }, [movieId]);\n\n  const onGoBack = () => {\n    history.push(location?.state?.from ?? '/');\n  };\n\n  return (\n    <>\n      {status === Status.PENDING && <Loader />}\n\n      {status === Status.RESOLVED && (\n        <>\n          <button className={s.button} type=\"button\" onClick={onGoBack}>\n            <BsArrowLeftShort /> Go back\n          </button>\n          <CardMovie movie={movie}>\n            <NavLink\n              to={{\n                pathname: `${url}/cast`,\n                state: location.state,\n              }}\n              className={s.link}\n              activeClassName={s.activeLink}\n            >\n              Cast\n            </NavLink>\n            <NavLink\n              to={{\n                pathname: `${url}/reviews`,\n                state: location.state,\n              }}\n              className={s.link}\n              activeClassName={s.activeLink}\n            >\n              Reviews\n            </NavLink>\n          </CardMovie>\n\n          <Suspense fallback={<Loader />}>\n            <Route path={`${path}/cast`}>\n              <Cast movieId={movieId} />\n            </Route>\n            <Route path={`${path}/reviews`}>\n              <Reviews movieId={movieId} />\n            </Route>\n          </Suspense>\n        </>\n      )}\n\n      {status === Status.REJECTED && (\n        <>\n          <button className={s.button} type=\"button\" onClick={onGoBack}>\n            <BsArrowLeftShort /> Go back\n          </button>\n          <p style={{ marginTop: '20px', fontSize: '20px', fontWeight: 500 }}>\n            {errors}\n          </p>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n"],"names":["PATH_IMAGE","DEFAULT_IMAGE","Status","IDLE","PENDING","RESOLVED","REJECTED","getMovies","axios","url","baseURL","params","api_key","language","include_adult","getTrendingMovieAll","results","data","Promise","reject","getMovie","name","query","getMovieDetails","id","getMoviesInfo","param","count","movie","children","poster_path","original_title","genres","overview","vote_average","className","s","src","alt","toFixed","map","genre","join","getGenres","child","props","Cast","lazy","Reviews","useState","setMovie","errors","setErrors","status","setStatus","location","useLocation","history","useHistory","movieId","useParams","useRouteMatch","path","useEffect","getDetailsMovie","onGoBack","push","state","from","Loader","type","onClick","to","pathname","activeClassName","Suspense","fallback","style","marginTop","fontSize","fontWeight"],"sourceRoot":""}